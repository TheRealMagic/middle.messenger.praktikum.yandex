{"mappings":"WAC4BA,EAAKC,EAAMC,GACnC,MAAMC,EAAOF,EAAKG,MAAM,KAExB,IAAIC,EAASL,EACb,IAAK,IAAIM,KAAOH,EAGZ,GAFAE,EAASA,EAAOC,QAEDC,IAAXF,EACA,OAAOH,EAIf,OAAOG,GAAUH,ECXrB,MAAMM,EAAe,kBAEfC,EAAiB,CACrBC,GAAI,KACJC,QAAS,QACTC,YAAa,UACbC,MAAO,QACPC,YAAa,cACbC,KAAM,OACNC,MAAO,QACPf,KAAM,OACNgB,KAAM,OACNC,QAAS,UACTC,IAAK,MACLC,IAAK,aAGDC,EAEJC,UAAY,eAEAC,GACVC,KAAKF,UAAYC,EAGnBE,iBAAiBC,GACf,IAAIC,EAAOH,KAAKF,UACdhB,EAAM,UAEAA,EAAME,EAAgBoB,KAAKD,OAC7BrB,EAAI,GAAI,CACV,MAAMuB,EAAYvB,EAAI,GAAGwB,OACnBC,EAAOC,EAAIN,EAAKG,GACtB,GAAIE,EAAM,CACR,MAAME,EAAW3B,EAAI,GAAG4B,QAAO,YAAc,IAC7C,IAAIC,EAAe,GACnB,GAAoB,mBAATJ,EAAqB,CAC9BK,OAAOP,GAAaE,EACpBI,EAAe1B,EAAewB,GAAQ,GAAOxB,EAAewB,cAAqBJ,OAAa,UAAcA,MAC5GF,EAAOA,EAAKO,QACV,IAAIG,OAAO/B,EAAI,GAAI,MACnB6B,GAEF,SAEAA,EAAe1B,EAAewB,GAAQ,GAAOxB,EAAewB,OAAcF,KAAUA,EACpFJ,EAAOA,EAAKO,QAAQ,IAAIG,OAAO/B,EAAI,GAAI,MAAO6B,IAMtD,OADAR,EAAOA,EAAKO,QAAQ1B,EAAiB,IAC9BmB,EAGTW,QAAQC,GACN,OAAOf,KAAKC,iBAAiBc,aCtDxBC,EAAiBC,GAEtB,OADkB,IAAIpB,EAHF,gGAIHiB,QAAQG,GCJ7B,MAEMC,EAAiB,CACnB,yBCYF,MAAMC,EAAU,CACdC,IAAK,OACLjC,QAZyB,kBAcrBkC,EAAQC,SAASC,cAAa,QAClCC,EAAYR,EAAiBG,GAC7BE,EAAMI,mBAAmB,YAAaD,GAbxCE,cAiBA,MAAMP,EAAU,CACdC,IAAK,MACLjC,QAAS,eACTwC,YA3BiB,OA6BbN,EAAQC,SAASC,cAAa,mBAClCC,EAAYR,EAAiBG,GAC7BE,EAAMI,mBAAmB,YAAaD,GAvBxCI,cA2BA,MAAMT,EAAU,CACdC,IAAK,MACLjC,QAAS,aACTwC,YArCW,iBAuCPN,EAAQC,SAASC,cAAa,mBAClCC,EAAYR,EAAiBG,GAC7BE,EAAMI,mBAAmB,YAAaD,GAjCxCK,cAqCA,MAAMV,EAAU,CACdQ,YA7CS,gBA8CTxC,QAAS,iCACTV,KAAM,OAEF4C,EAAQC,SAASC,cAAa,mBAClCO,ID/CiBb,EC+CEE,GD9CZhC,SAAW8B,EAAO9B,SAAW,IAAM,IAAM+B,EAAea,KAAK,KAClD,IAAIlC,EARN,+DASCiB,QAAQG,QAHRA,ECgDjBI,EAAMI,mBAAmB,YAAaK,GA3CxCE","sources":["src/utils/get.js","src/components/Templator.js","src/components/container/container.js","src/components/link/link.js","src/pages/500/500.js"],"sourcesContent":["\r\nexport default function get(obj, path, defaultValue) {\r\n    const keys = path.split('.');\r\n\r\n    let result = obj;\r\n    for (let key of keys) {\r\n        result = result[key];\r\n\r\n        if (result === undefined) {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return result ?? defaultValue;\r\n}","import get from \"../utils/get.js\";\r\n\r\nconst TEMPLATE_REGEXP = /\\{\\{(.*?)\\}\\}/gi;\r\n\r\nconst printableProps = {\r\n  id: \"id\",\r\n  classes: \"class\",\r\n  handleClick: \"onсlick\",\r\n  style: \"style\",\r\n  placeholder: \"placeholder\",\r\n  type: \"type\",\r\n  value: \"value\",\r\n  path: \"href\",\r\n  name: \"name\",\r\n  onclick: \"onclick\",\r\n  alt: \"alt\",\r\n  src: \"src\"\r\n};\r\n\r\nclass Templator {\r\n\r\n  _template = \"\";\r\n\r\n  constructor(template) {\r\n    this._template = template;\r\n  }\r\n\r\n  _compileTemplate(ctx) {\r\n    let tmpl = this._template,\r\n      key = null;\r\n\r\n    while ((key = TEMPLATE_REGEXP.exec(tmpl))) {\r\n      if (key[1]) {\r\n        const tmplValue = key[1].trim();\r\n        const data = get(ctx, tmplValue);\r\n        if (data) {\r\n          const propName = key[0].replace(/[{,}, ]/gi, \"\");\r\n          let replacedText = \"\";\r\n          if (typeof data === \"function\") {\r\n            window[tmplValue] = data;\r\n            replacedText = printableProps[propName] ? `${printableProps[propName]}='window.${tmplValue}()'` : `window.${tmplValue}()`;\r\n            tmpl = tmpl.replace(\r\n              new RegExp(key[0], \"gi\"),\r\n              replacedText\r\n            );\r\n            continue;\r\n          } else {\r\n            replacedText = printableProps[propName] ? `${printableProps[propName]}='${data}'` : data;\r\n            tmpl = tmpl.replace(new RegExp(key[0], \"gi\"), replacedText);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    tmpl = tmpl.replace(TEMPLATE_REGEXP, '');\r\n    return tmpl;\r\n  }\r\n\r\n  compile(ctx) {\r\n    return this._compileTemplate(ctx);\r\n  }\r\n}\r\n\r\nexport { Templator };","import { Templator } from \"../Templator.js\";\r\n\r\nconst CONTAINER_TEMPLATE = `<{{ tag }} {{ }} {{ src }} {{ style }} {{ classes }} {{ alt }}>{{ textContent }}</{{ tag }}>`;\r\n\r\nfunction getContainerHTML(config) {\r\n    const templator = new Templator(CONTAINER_TEMPLATE);\r\n    return templator.compile(config);\r\n}\r\n\r\nexport {getContainerHTML};","import { Templator } from \"../Templator.js\";\r\n\r\nconst LABEL_TEMPLATE = `<a {{ classes }} {{ style }} {{ path }}>{{textContent}}</a>`;\r\n\r\nconst defaultClasses = [\r\n    \"base-link\"\r\n];\r\n\r\nfunction getLinkHTML(config) {\r\n    config.classes = (config.classes || \"\") + \" \" + defaultClasses.join(\" \");\r\n    const templator = new Templator(LABEL_TEMPLATE);\r\n    return templator.compile(config);\r\n}\r\n\r\nexport {getLinkHTML};","import { getContainerHTML } from \"../../components/container/container.js\";\r\nimport { getLinkHTML } from \"../../components/link/link.js\";\r\n\r\nconst ERROR_NUMBER = \"500\",\r\n  ERROR_TEXT = \"Мы уже фиксим\",\r\n  LINK_TEXT = \"Назад к чатам\";\r\n\r\nconst MAIN_CONTAINER_CLASS = \"main-container\";\r\n\r\nfunction addContent() {\r\n  addMainBlock();\r\n  addErrorNumberContainer();\r\n  addErrorTextContainer();\r\n  addBackLink();\r\n}\r\n\r\nfunction addMainBlock() {\r\n  const context = {\r\n    tag: \"main\",\r\n    classes: MAIN_CONTAINER_CLASS\r\n  };\r\n  const block = document.querySelector(`body`),\r\n    container = getContainerHTML(context);\r\n    block.insertAdjacentHTML(\"beforeend\", container);\r\n}\r\n\r\nfunction addErrorNumberContainer() {\r\n  const context = {\r\n    tag: \"div\",\r\n    classes: \"error-number\",\r\n    textContent: ERROR_NUMBER\r\n  };\r\n  const block = document.querySelector(`.${MAIN_CONTAINER_CLASS}`),\r\n    container = getContainerHTML(context);\r\n    block.insertAdjacentHTML(\"beforeend\", container);\r\n}\r\n\r\nfunction addErrorTextContainer() {\r\n  const context = {\r\n    tag: \"div\",\r\n    classes: \"error-text\",\r\n    textContent: ERROR_TEXT\r\n  };\r\n  const block = document.querySelector(`.${MAIN_CONTAINER_CLASS}`),\r\n    container = getContainerHTML(context);\r\n    block.insertAdjacentHTML(\"beforeend\", container);\r\n}\r\n\r\nfunction addBackLink() {\r\n  const context = {\r\n    textContent: LINK_TEXT,\r\n    classes: \"base-link sign-link error-link\",\r\n    path: \"../\"\r\n  };\r\n  const block = document.querySelector(`.${MAIN_CONTAINER_CLASS}`),\r\n    link = getLinkHTML(context);\r\n    block.insertAdjacentHTML(\"beforeend\", link);\r\n}\r\n\r\naddContent();"],"names":["obj","path","defaultValue","keys","split","result","key","undefined","$6d1afd06e4f16982$var$TEMPLATE_REGEXP","$6d1afd06e4f16982$var$printableProps","id","classes","handleClick","style","placeholder","type","value","name","onclick","alt","src","$6d1afd06e4f16982$export$bda0decfc3e51f17","_template","template","this","_compileTemplate","ctx","tmpl","exec","tmplValue","trim","data","$10efe51f2fa57cc0$export$2e2bcd8739ae039","propName","replace","replacedText","window","RegExp","compile","ctx1","$316c3c1af49ddb6a$export$1b820fdbd0647f3c","config","$ce78f65ca9e598ec$var$defaultClasses","context","tag","block","document","querySelector","container","insertAdjacentHTML","$82ef9e04ec7382f8$var$addMainBlock","textContent","$82ef9e04ec7382f8$var$addErrorNumberContainer","$82ef9e04ec7382f8$var$addErrorTextContainer","link","join","$82ef9e04ec7382f8$var$addBackLink"],"version":3,"file":"500.e87ce9c9.js.map"}